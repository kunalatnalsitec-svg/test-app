<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Amazon Auto Open</title>
  <style>body{margin:0;padding:0}</style>
</head>
<body>
<script>
/*
  Put your Amazon product page here:
  - Use amazon.in for India links, amazon.com for US, etc.
  Example: "https://www.amazon.in/dp/B0XXXXXX"
*/
const PRODUCT_URL = "https://www.amazon.in/dp/B0F4R6H3NB/"; // <-- replace with your Amazon product URL

function isAndroid(){ return /Android/i.test(navigator.userAgent); }
function isIOS(){ return /iPhone|iPad|iPod/i.test(navigator.userAgent); }

(function openAmazon(){
  if (isAndroid()){
    try {
      // Build intent that asks Android to open the Amazon app package
      const u = new URL(PRODUCT_URL);
      const hostPath = u.hostname + u.pathname + (u.search || '') + (u.hash || '');
      const fallback = encodeURIComponent(PRODUCT_URL);
      // Amazon app package name commonly: com.amazon.mShop.android.shopping
      const intentUri = `intent://${hostPath}#Intent;scheme=https;package=com.amazon.mShop.android.shopping;S.browser_fallback_url=${fallback};end`;
      window.location.href = intentUri;
    } catch(e){
      // If building intent fails, fallback to web URL
      window.location.href = PRODUCT_URL;
    }
    return;
  }

  if (isIOS()){
    // iOS: navigate to HTTPS first to trigger Universal Link (best route to exact product page)
    // Then after a short delay, try app scheme fallback if Universal Link didn't open the app.
    window.location.href = PRODUCT_URL;
    setTimeout(()=> {
      // Try scheme fallback (may open app but might not route to exact product on some app versions)
      const scheme = PRODUCT_URL.replace(/^https?:\/\//, 'amazon://');
      // Use top-level navigation (some browsers block iframes)
      window.location.href = scheme;
    }, 1200);
    return;
  }

  // Desktop / unknown
  window.location.href = PRODUCT_URL;
})();
</script>
</body>
</html>
